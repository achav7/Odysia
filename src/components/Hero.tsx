"use client";

import { useEffect, useRef } from "react";
import { gsap } from "gsap";
import { motion } from "framer-motion";

export default function Hero() {
  const logoRef = useRef<HTMLDivElement>(null);
  const containerRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    const ctx = gsap.context(() => {
      const paths = logoRef.current?.querySelectorAll("path");
      if (!paths) return;

      // Initial state - all dots invisible
      gsap.set(paths, {
        opacity: 0,
        scale: 0,
        transformOrigin: "center center",
      });

      // Staggered reveal of each dot
      const revealTl = gsap.timeline();
      revealTl.to(paths, {
        opacity: 1,
        scale: 1,
        duration: 0.4,
        stagger: {
          each: 0.02,
          from: "random",
        },
        ease: "back.out(1.7)",
        delay: 0.3,
      });

      // After reveal, start organic breathing animation on each dot
      revealTl.add(() => {
        paths.forEach((path) => {
          // Faster animation with more amplitude
          const duration = 0.8 + Math.random() * 0.7;
          const delay = Math.random() * 1;
          const targetScale = 0.3 + Math.random() * 0.5;
          const targetOpacity = 0.3 + Math.random() * 0.5;
          
          gsap.to(path, {
            scale: targetScale,
            opacity: targetOpacity,
            duration: duration,
            ease: "sine.inOut",
            repeat: -1,
            yoyo: true,
            delay: delay,
          });
        });
      });

      // Subtle floating animation for the whole logo
      gsap.to(logoRef.current, {
        y: -8,
        duration: 4,
        ease: "sine.inOut",
        repeat: -1,
        yoyo: true,
        delay: 2,
      });
    }, containerRef);

    return () => ctx.revert();
  }, []);

  return (
    <section
      ref={containerRef}
      className="relative min-h-screen flex flex-col items-center justify-center px-6"
    >
      {/* Subtle radial gradient background */}
      <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_rgba(255,255,255,0.02)_0%,_transparent_60%)]" />

      {/* Logo Icon */}
      <motion.div
        ref={logoRef}
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ duration: 0.5 }}
        className="relative glow mb-16"
      >
        <svg
          width="280"
          height="280"
          viewBox="-10 -10 558 558"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          style={{ overflow: "visible" }}
        >
          <g>
            <path fill="#fafafa" d="M499.96,235.3c19.68-2.34,35.91,12.16,37.86,30.32,2.04,19.05-11.56,35.82-30.55,37.86s-35.18-11.38-37.5-29.65c-2.37-18.6,10.34-36.18,30.2-38.54Z"/>
            <path fill="#fafafa" d="M261.54.83c19.62-4.25,37.43,8.23,41.13,26.98s-8.15,36.06-26.43,40.01c-18.24,3.94-36.43-7.42-40.68-26.14-4.01-17.64,6.66-36.65,25.98-40.84Z"/>
            <path fill="#fafafa" d="M31.68,235.15c19.7-1.44,35.44,13.61,36.74,31.67,1.37,19.08-12.94,35.14-31.53,36.69-18.72,1.56-34.96-12.39-36.72-30.68-1.81-18.86,11.63-36.23,31.52-37.68Z"/>
            <path fill="#fafafa" d="M262.62,470.73c19.68-3.63,36.88,9.42,40.14,28.11,3.16,18.14-9,35.84-27.28,39.26-18.51,3.46-36.64-8.55-40.17-27.26-3.36-17.8,8.03-36.55,27.31-40.1Z"/>
            <path fill="#fafafa" d="M383.45,31.23c19.67-1.53,35.19,13.67,36.58,31.67,1.49,19.21-12.85,35.06-31.46,36.66s-35.05-12.5-36.74-30.69,11.59-36.08,31.62-37.64Z"/>
            <path fill="#fafafa" d="M60,118.48c19.7-3.09,36.63,10.51,39.22,29.1,2.57,18.44-10.03,35.65-28.37,38.52-18.83,2.95-36.26-9.45-39.37-28.5-2.9-17.81,9.05-36.07,28.52-39.12Z"/>
            <path fill="#fafafa" d="M149.28,439.17c19.82-1.69,35.57,13.14,36.94,31.5,1.41,18.97-12.56,35.29-31.59,36.82s-34.74-12.35-36.56-30.75c-1.86-18.79,11.32-35.87,31.21-37.57Z"/>
            <path fill="#fafafa" d="M465.35,352.94c19.57-4.17,37.31,8.38,40.98,27.08,3.53,17.98-8.21,35.94-26.6,39.86s-36.37-7.42-40.45-26.02c-3.95-17.97,6.63-36.77,26.07-40.92Z"/>
            <path fill="#fafafa" d="M451.65,299.32c11.53-2.33,21.2,5.17,23.29,15.71,2.04,10.31-5.06,20.85-15.17,23.06s-20.67-4.48-23.29-14.25c-2.92-10.91,3.44-22.16,15.17-24.53Z"/>
            <path fill="#fafafa" d="M317.29,65.94c11.23-2.51,21.45,5.08,23.44,15.4,2.03,10.55-4.67,20.82-15.27,23.24s-20.39-4.22-23.24-14.28c-2.99-10.57,3.29-21.73,15.07-24.36Z"/>
            <path fill="#fafafa" d="M148.22,49.16c11.2-2.47,21.31,5.34,23.25,15.56,2.03,10.71-4.59,20.79-15.07,23.06s-20.8-4.25-23.36-14.08c-2.83-10.85,3.38-21.94,15.18-24.55Z"/>
            <path fill="#fafafa" d="M57.9,366.65c11.49-3.17,21.63,3.85,24.48,14.27,2.78,10.15-3.59,21.22-13.68,23.72-10.85,2.69-21.4-2.71-24.59-13.64-2.8-9.57,2.71-21.29,13.79-24.35Z"/>
            <path fill="#fafafa" d="M83.08,200.48c11.39-3.06,21.78,4.03,24.37,14.6,2.46,10.04-3.81,20.75-13.65,23.34-11.03,2.9-21.56-2.82-24.61-13.43s2.53-21.46,13.9-24.52Z"/>
            <path fill="#fafafa" d="M373.89,456.04c11.59-3.53,22.02,2.84,25.17,13.58,2.89,9.85-2.91,20.6-12.78,23.89-10.53,3.51-21.34-2.03-24.92-12.28-3.48-9.94,1.45-21.82,12.54-25.19Z"/>
            <path fill="#fafafa" d="M217.57,433.84c11.17-2.94,21.28,4.32,23.81,13.99,2.87,10.96-3.62,21.59-13.95,24.21s-20.92-3.14-24.02-13.45c-3.07-10.21,2.67-21.73,14.16-24.76Z"/>
            <path fill="#fafafa" d="M463.31,138.61c11.13-3.34,21.47,3.23,24.54,13.25,3.17,10.36-2.94,21.49-13.05,24.52-10.45,3.13-21.09-2.35-24.52-12.4-3.5-10.25,1.69-21.97,13.03-25.37Z"/>
            <path fill="#fafafa" d="M320.36,453.81c9.42-2.79,17.88,2.48,20.26,11.29,2.11,7.8-2.45,16.48-10.83,19.04s-16.97-1.79-19.76-10.34c-2.48-7.61,1.28-17.31,10.32-19.99Z"/>
            <path fill="#fafafa" d="M210.09,56.46c9.38-.67,16.48,6.79,16.98,14.72.56,8.93-6.29,16.36-14.41,16.96-9.1.67-16.4-5.54-17.21-14.02s5.15-16.98,14.64-17.66Z"/>
            <path fill="#fafafa" d="M415.93,405.55c7.85-.7,13.18,5.51,13.68,11.67.61,7.54-5.07,12.98-11.3,13.86-7.54,1.07-13.41-4.66-14.12-10.87-.86-7.55,3.76-13.94,11.74-14.66Z"/>
            <path fill="#fafafa" d="M18.01,187.85c7.65-1.57,13.95,4.14,14.89,10.49,1.07,7.24-3.1,13.54-10.37,14.87-6.48,1.19-13.09-3.26-14.68-9.89s2.44-13.89,10.15-15.47Z"/>
            <path fill="#fafafa" d="M515.81,325.49c7.58-1.25,13.62,4.76,14.51,10.78,1.09,7.38-4.09,13.36-10.45,14.61-7.18,1.41-13.52-3.61-14.64-9.74-1.37-7.46,2.49-14.31,10.59-15.64Z"/>
            <path fill="#fafafa" d="M176.52,14.62c7.03-2.9,14.41.51,17.01,6.76s-.19,13.79-6.72,16.69c-6.14,2.74-13.54.25-16.5-5.93s-1.21-14.47,6.21-17.52Z"/>
            <path fill="#fafafa" d="M473.74,196.32c7.23-2.45,13.98,1.76,16.17,7.88,2.46,6.86-1.31,14.07-7.81,16.28s-13.54-.71-16.03-7.01c-2.61-6.63.13-14.6,7.66-17.15Z"/>
            <path fill="#fafafa" d="M75.88,433.96c7.06-2.59,14.08,1.56,16.22,7.73,2.39,6.89-.8,14.2-7.79,16.44-6.33,2.03-13.47-.73-16.07-7.18-2.55-6.31.04-14.21,7.64-16.99Z"/>
            <path fill="#fafafa" d="M120.87,106.86c7.88-2.43,14.17,2.12,16.27,9.18,1.83,6.14-2.13,13.26-8.56,15.2-6.83,2.06-13.73-1.37-16.16-8.38-2.05-5.92,1.08-13.73,8.45-16.01Z"/>
            <path fill="#fafafa" d="M400.15,105.85c7.67-2.24,14.45,2.21,16.31,9.04,1.72,6.35-2.06,13.36-8.63,15.34s-13.68-1.31-16.13-8.48c-1.96-5.75,1-13.72,8.45-15.89Z"/>
            <path fill="#fafafa" d="M351.88,500.3c7.29-2.63,14.18,1.3,16.36,7.63,2.33,6.74-.65,14.2-7.73,16.46-6.24,1.99-13.38-.59-16.08-7.14-2.5-6.08-.1-14.22,7.44-16.94Z"/>
            <path fill="#fafafa" d="M444.39,73.36c7.33-2.85,14.51,1,17.01,7.85,2.15,5.91-1.16,13.46-7.7,15.98-6.12,2.35-13.67-.49-16.42-7.21-2.37-5.78-.07-13.83,7.12-16.63Z"/>
            <path fill="#fafafa" d="M331.32,5.79c6.99-1.76,13.34,2.85,15.14,8.98,2.04,6.93-2.3,14.24-8.75,15.81-7.5,1.83-13.94-1.84-15.94-9.15-1.81-6.62,2.19-13.79,9.55-15.64Z"/>
            <path fill="#fafafa" d="M57.83,320.38c7.9-1.55,13.94,3.84,14.97,10.44,1.11,7.1-3.33,13.33-10.54,14.68-6.5,1.22-12.88-3.06-14.52-9.77-1.59-6.51,2.57-13.87,10.09-15.35Z"/>
            <path fill="#fafafa" d="M121.04,408.69c7.33-2.88,14.46,1.22,16.7,8.14,2.01,6.21-1.16,13.32-7.66,15.75-6.42,2.4-13.7-.63-16.49-7.21-2.53-5.97.22-13.83,7.45-16.67Z"/>
            <path fill="#fafafa" d="M197.5,505.59c7.24-2.95,14.47.44,17.01,6.87,2.51,6.35-.38,13.74-6.87,16.62-6.15,2.73-13.33.08-16.41-5.85-3.22-6.22-1.05-14.66,6.27-17.64Z"/>
            <path fill="#fafafa" d="M21.33,351.91c5.95-1.7,11.5,2.6,12.93,7.82,1.51,5.51-2.19,11.56-7.81,12.96s-10.94-1.62-12.72-7.04c-1.77-5.39.89-11.83,7.6-13.74Z"/>
            <path fill="#fafafa" d="M92.56,98.54c6.04-2.39,12.05.53,14.04,5.58,2.19,5.57-.33,11.8-5.9,14.13-4.85,2.03-11.07-.13-13.45-4.84-2.67-5.3-.85-12.43,5.31-14.87Z"/>
            <path fill="#fafafa" d="M411.85,443.64c5.87-2.75,12.15-.44,14.67,4.73,2.47,5.08.41,11.31-4.85,14.18-4.69,2.55-11.05.82-13.84-3.67-3.1-4.99-1.92-12.46,4.02-15.24Z"/>
            <path fill="#fafafa" d="M508.74,158.25c6.02-1.95,11.81.96,13.73,7.11,1.51,4.81-1.06,10.83-6.61,12.92s-11.3-.33-13.68-6.35c-1.93-4.89.35-11.67,6.55-13.68Z"/>
            <path fill="#fafafa" d="M214.43,8.2c4.05-1.38,7.89,1.52,8.95,4.59,1.37,3.98-.61,8.1-4.48,9.24-3.65,1.08-7.24-.52-8.98-4.19-1.5-3.16-.27-8.02,4.52-9.65Z"/>
            <path fill="#fafafa" d="M18.47,311.73c3.64-1.11,7.76,1.21,8.76,4.48,1.25,4.1-.31,7.97-4.87,9.43-3.21,1.02-7.48-.62-8.81-4.87-1.05-3.33.56-7.71,4.93-9.04Z"/>
            <path fill="#fafafa" d="M94.87,71.3c3.83-1.83,7.94.6,9.51,3.83s-.25,7.69-3.7,9.42c-3.16,1.59-7.33-.04-9.11-2.82-2.19-3.44-1.12-8.31,3.3-10.42Z"/>
            <path fill="#fafafa" d="M93.78,395.11c3.97-1.93,7.98.3,9.65,3.77,1.57,3.25-.04,7.63-3.69,9.35-3.14,1.48-7.27.15-9.17-2.86-2.05-3.25-1.15-8.15,3.21-10.26Z"/>
            <path fill="#fafafa" d="M434.21,123.57c4.03-1.26,7.97,1.1,8.9,4.5,1.11,4.06-.5,7.67-4.31,9.22-3.26,1.33-7.69-.4-8.81-3.37-1.65-4.41-.31-8.94,4.22-10.36Z"/>
            <path fill="#fafafa" d="M318.45,510.77c3.8-2.02,8.03.13,9.67,3.5s.26,7.74-3.94,9.65c-2.76,1.26-6.79.22-8.85-2.9-2.06-3.11-1.15-7.98,3.12-10.25Z"/>
            <path fill="#fafafa" d="M446.74,446.27c3.97-1.35,8.15.55,9.13,4.38.92,3.63,0,7.67-4.41,9.2-2.7.94-7.21-.51-8.58-3.37-1.99-4.14-.53-8.72,3.86-10.21Z"/>
            <path fill="#fafafa" d="M510.58,213.27c3.78-1.92,8.2-.48,9.73,2.52,1.76,3.48.79,8.11-2.49,9.9s-7.58.86-9.51-1.96c-2.08-3.04-1.93-8.32,2.27-10.46Z"/>
          </g>
        </svg>
      </motion.div>

      {/* Typography */}
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.8, delay: 1.8, ease: [0.25, 0.1, 0.25, 1] }}
        className="text-center flex flex-col items-center"
      >
        <svg
          width="200"
          height="60"
          viewBox="0 0 659.08 193.03"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="h-10 w-auto mb-4"
        >
          <g fill="#fafafa">
            <path d="M130.91,131.01c-14.86,14.93-33,22.4-54.41,22.4s-39.52-7.47-54.31-22.4C7.4,116.08,0,97.98,0,76.71S7.4,37.16,22.19,22.29C36.98,7.43,55.08,0,76.5,0s39.55,7.43,54.41,22.29c14.86,14.86,22.29,33,22.29,54.41s-7.43,39.38-22.29,54.31ZM35.82,117.6c10.92,11.06,24.48,16.59,40.68,16.59s29.76-5.53,40.68-16.59c10.92-11.06,16.38-24.69,16.38-40.89s-5.46-30.04-16.38-41.1c-10.92-11.06-24.48-16.59-40.68-16.59s-29.76,5.53-40.68,16.59c-10.92,11.06-16.38,24.76-16.38,41.1s5.46,29.83,16.38,40.89Z"/>
            <path d="M262.45,2.75h18.38v147.92h-18.38v-18.17c-9.16,13.95-22.47,20.92-39.94,20.92-14.79,0-27.4-5.39-37.82-16.17-10.43-10.78-15.64-23.91-15.64-39.41s5.21-28.63,15.64-39.41c10.42-10.78,23.03-16.17,37.82-16.17,17.47,0,30.78,6.97,39.94,20.92V2.75ZM224.83,135.66c10.7,0,19.65-3.63,26.84-10.88,7.19-7.25,10.78-16.24,10.78-26.94s-3.59-19.68-10.78-26.94c-7.18-7.25-16.13-10.88-26.84-10.88s-19.44,3.63-26.63,10.88c-7.18,7.26-10.78,16.24-10.78,26.94s3.59,19.69,10.78,26.94c7.19,7.26,16.06,10.88,26.63,10.88Z"/>
            <path d="M382.47,45.01h19.65l-43.11,112.21c-4.51,11.97-10.81,21.09-18.91,27.37-8.1,6.27-17.43,9.05-28,8.35v-17.12c12.91.98,22.38-6.21,28.41-21.6l2.02-3.97-46.07-105.23h19.65l35.23,81,31.12-81Z"/>
            <path d="M426.85,73.22c0,4,2.07,7.2,6.22,9.61,4.15,2.41,9.09,4.46,14.83,6.14,5.74,1.69,11.51,3.38,17.32,5.09,5.81,1.71,10.72,4.9,14.75,9.59,4.03,4.69,6.04,10.71,6.04,18.06,0,9.58-3.7,17.26-11.09,23.03-7.4,5.78-16.87,8.66-28.42,8.66-10.29,0-19.09-2.26-26.41-6.76-7.33-4.51-12.54-10.49-15.64-17.96l15.85-9.09c1.69,5.07,4.86,9.09,9.51,12.05,4.65,2.96,10.21,4.44,16.69,4.44,6.06,0,11.06-1.16,15-3.48,3.94-2.32,5.92-5.94,5.92-10.87,0-4.08-2.05-7.35-6.14-9.81-4.09-2.46-9.01-4.55-14.75-6.28-5.74-1.72-11.52-3.46-17.32-5.2-5.81-1.74-10.75-4.87-14.84-9.38-4.09-4.51-6.13-10.28-6.13-17.33,0-9.16,3.56-16.69,10.67-22.61,7.11-5.92,16.02-8.88,26.73-8.88,8.59,0,16.23,1.94,22.93,5.81,6.69,3.88,11.73,9.27,15.11,16.17l-15.43,8.66c-3.8-9.01-11.34-13.52-22.61-13.52-5.21,0-9.65,1.21-13.31,3.62-3.67,2.41-5.49,5.82-5.49,10.23Z"/>
            <path d="M516.03,25.78c-3.52,0-6.48-1.2-8.87-3.59-2.4-2.39-3.59-5.28-3.59-8.66s1.2-6.3,3.59-8.77c2.39-2.46,5.35-3.7,8.87-3.7s6.27,1.23,8.66,3.7c2.39,2.47,3.59,5.39,3.59,8.77s-1.2,6.27-3.59,8.66-5.28,3.59-8.66,3.59ZM506.73,150.67V45.01h18.38v105.66h-18.38Z"/>
            <path d="M640.7,45.01h18.38v105.66h-18.38v-18.17c-9.16,13.95-22.47,20.92-39.94,20.92-14.79,0-27.4-5.39-37.82-16.17-10.43-10.78-15.64-23.91-15.64-39.41s5.21-28.63,15.64-39.41c10.42-10.78,23.03-16.17,37.82-16.17,17.47,0,30.78,6.97,39.94,20.92v-18.17ZM603.08,135.66c10.7,0,19.65-3.63,26.84-10.88,7.19-7.25,10.78-16.24,10.78-26.94s-3.59-19.68-10.78-26.94c-7.18-7.25-16.13-10.88-26.84-10.88s-19.44,3.63-26.63,10.88c-7.18,7.26-10.78,16.24-10.78,26.94s3.59,19.69,10.78,26.94c7.19,7.26,16.06,10.88,26.63,10.88Z"/>
          </g>
        </svg>
        <p className="text-base md:text-lg text-white/40 font-light tracking-wide max-w-md mx-auto">
          Building tools for tomorrow.
        </p>
      </motion.div>

      {/* Scroll indicator */}
      <motion.div
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ delay: 2.5, duration: 1 }}
        className="absolute bottom-12"
      >
        <motion.div
          animate={{ y: [0, 8, 0] }}
          transition={{ duration: 2, repeat: Infinity, ease: "easeInOut" }}
          className="w-[1px] h-12 bg-gradient-to-b from-white/30 to-transparent"
        />
      </motion.div>
    </section>
  );
}
